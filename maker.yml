packages:
  - plyr
  - rmarkdown

sources:
  - functions_steps.R
  - functions_metadata.R
  - functions_support.R
  - functions_combine.R
  - functions_evil.R
  - config/postProcess.R
  - functions_ms.R

# This file is automatically generated and is quite large.  It defines
# targets for each data set, plus the 'baad' target.
include:
  - maker_data.yml

targets:
  all:
    depends: baad
  manuscript:
    depends: ms.html

  output/baad.rds:
    command: saveRDS(baad, target_name)

  author_info:
    command: author_details("config/contact.csv", baad)
  output/authors.csv:
    command: save_author_details(author_info, target_name)

  ms.md:
    knitr: true
    packages:
      - maps
      - whisker
      - knitcitations
    depends:
      - baad
      - author_info
      - refs.bib

  ms.html:
    command: render_ms("ms.md")
    quiet: true
