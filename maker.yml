packages:
  - plyr
  - rmarkdown
  - knitr
  - maps
  - mapdata
  - Taxonstand
  - taxize

sources: 
  - R/

include:
  # This file is automatically generated and is quite large.  It defines
  # targets for each data set, plus the 'baad' target.
  - maker_data.yml
  # This defines all the reports and including it greatly slows down
  # maker (both in the startup time and in checking the dependency
  # graph).  Commenting it out might be useful sometimes.
  - maker_reports.yml

targets:
  all:
    depends: baad
  manuscript:
    depends: ms/ms.html

  output/baad.rds:
    command: saveRDS(baad, target_name)

  author_info:
    command: author_details("config/contact.csv", baad)
  output/authors.csv:
    command: save_author_details(author_info, target_name)

  ms/ms.md:
    knitr:
      chdir: true
      auto_figure_prefix: true
    packages:
      - whisker
      - knitcitations
    depends:
      - baad
      - author_info
      - ms/refs.bib

  ms/ms.html:
    command: render_ms("ms/ms.md")
    quiet: true
